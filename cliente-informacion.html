<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Información General – CFE</title>
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    .info-general{display:flex;flex-wrap:wrap;gap:30px;justify-content:center;
      padding:40px;z-index:2;position:relative}
    .panel{background:rgba(45,45,45,.95);color:#fff;padding:30px;border-radius:20px;
      width:380px;min-height:280px;box-shadow:0 0 15px rgba(255,255,255,.2);
      font-family:Arial,Helvetica,sans-serif}
    .panel h2{margin:0 0 20px;border-bottom:1px solid #ccc;padding-bottom:10px;
      color:#00cc66}
    .panel p{margin:8px 0}
    .btn-back{position:absolute;top:85px;right:30px;z-index:3;
      background:#2d2d2d;color:#fff;padding:10px 20px;border-radius:30px;
      text-decoration:none;font-weight:bold;transition:.3s;
      box-shadow:0 4px 10px rgba(255,255,255,.2)}
    .btn-back:hover{background:#1a1a1a}
  </style>
</head>

<body class="registro-cliente">
  <!-- Fondo animado -->
  <div id="particles-js"></div>

  <!-- Encabezado -->
  <header class="encabezado">
    <img src="img/logo.png" alt="Logo CFE" class="logo-cfe" />
  </header>

  <!-- Botón regresar -->
  <a href="cliente-inicio.html" class="btn-back">⬅️ Regresar a Inicio</a>

  <!-- Paneles -->
  <div class="info-general">
    <!-- Usuario -->
    <div class="panel">
      <h2>Información del Usuario</h2>
      <p><strong>Nombre:</strong>            <span id="nombre">—</span></p>
      <p><strong>Apellidos:</strong>         <span id="apellidos">—</span></p>
      <p><strong>CURP:</strong>              <span id="curp">—</span></p>
      <p><strong>Teléfono:</strong>          <span id="telefono">—</span></p>
      <p><strong>Correo:</strong>            <span id="correo">—</span></p>
      <p><strong>Fecha de nacimiento:</strong> <span id="fecha">—</span></p>
      <hr/>
      <p><strong>No. Contrato:</strong>      <span id="numContrato">—</span></p>
      <p><strong>No. Medidor:</strong>       <span id="numMedidor">—</span></p>
    </div>

    <!-- Dirección -->
    <div class="panel">
      <h2>Domicilio Registrado</h2>
      <p><strong>Calle:</strong>       <span id="calle">—</span></p>
      <p><strong>Número:</strong>      <span id="num">—</span></p>
      <p><strong>Colonia:</strong>     <span id="colonia">—</span></p>
      <p><strong>Municipio:</strong>   <span id="municipio">—</span></p>
      <p><strong>CP:</strong>          <span id="cp">—</span></p>
      <p><strong>Estado:</strong>      <span id="estado">—</span></p>
    </div>
  </div>

  <!-- Partículas -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
  <script>
    particlesJS("particles-js",{
      particles:{number:{value:80},color:{value:"#00ff00"},shape:{type:"circle"},
      opacity:{value:.5},size:{value:3},
      line_linked:{enable:true,distance:150,color:"#00ff00",opacity:.4,width:1},
      move:{enable:true,speed:2}},
      interactivity:{events:{onhover:{enable:true,mode:"repulse"}}},
      retina_detect:true
    });
  </script>

  <!-- Lógica para poblar datos -->
  <script>
    document.addEventListener("DOMContentLoaded",()=>{
      const u = JSON.parse(localStorage.getItem("usuario"));
      if(!u){ location.href="index.html"; return; }

      /* Helper */
      const o = (id,val)=> document.getElementById(id).textContent = val ?? "—";

      /* Datos personales */
      o("nombre",u.nombre);
      o("apellidos",u.apellidos);
      o("curp",u.curp);
      o("telefono",u.telefono);
      o("correo",u.correo);
      o("fecha", u.fecha_nacimiento ?
        new Date(u.fecha_nacimiento).toLocaleDateString() : "—");

      /* Contrato y medidor */
      o("numContrato",  u.num_contrato  ?? u.numero_contrato ?? "—");
      o("numMedidor",   u.medidor ?? "—");


      /* Dirección */
      o("calle",     u.calle);
      o("num",       u.numero);
      o("colonia",   u.colonia);
      o("municipio", u.municipio);
      o("cp",        u.codigo_postal);
      o("estado",    u.estado);
    });
  </script>
</body>
</html>
