<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login Cliente</title>
  <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
  <header class="encabezado">
    <h1>Ingreso de Cliente</h1>
    <img src="../img/logo.png" alt="Logo CFE" class="logo">
  </header>

  <main class="form-container">
    <form id="formLoginCliente">
      <label for="correo">Correo electrónico:</label>
      <input type="email" id="correo" required>

      <label for="password">Contraseña:</label>
      <input type="password" id="password" required>

      <button type="submit" class="btn">Iniciar sesión</button>
    </form>

    <!-- Botón para crear cuenta nueva -->
    <a href="cliente-registro.html" class="btn" style="margin-top: 15px;">Crear nueva cuenta</a>

    <div id="mensaje" class="mensaje"></div>
  </main>

  <script>
    document.getElementById("formLoginCliente").addEventListener("submit", function(e) {
      e.preventDefault();

      const correo = document.getElementById("correo").value.trim();
      const password = document.getElementById("password").value;
      const clientes = JSON.parse(localStorage.getItem("clientes")) || [];

      const clienteEncontrado = clientes.find(c => c.correo === correo && c.password === password);

      if (clienteEncontrado) {
        sessionStorage.setItem("clienteActivo", JSON.stringify(clienteEncontrado));
        window.location.href = "cliente-menu.html";
      } else {
        document.getElementById("mensaje").textContent = "Correo o contraseña incorrectos.";
      }
    });
  </script>
</body>
</html>
